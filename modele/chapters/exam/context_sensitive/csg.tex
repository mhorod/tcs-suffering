\section{Gramatyki kontesktowe}

\begin{definition}
	\textbf{Gramatyka kontekstowa} (Context-Sensitive Grammar) to czwórka \( G = (N, \Sigma, P, S) \) gdzie
	\begin{itemize}
		\item \( N \) to skończony zbiór zmiennych (nieterminale)
		\item \( \Sigma \) - alfabet (terminale)
		\item \( P \) - produkcje \( P \subseteq
		      (N \cup \Sigma)^* \, N \,
		      (N \cup \Sigma)^* \times
		      (N \cup \Sigma)^* \)
		\item \( S \in N \) - symbol startowy
	\end{itemize}
\end{definition}
gdzie każda produkcja jest postaci:
\[
	\alpha_1 A \alpha_2 \rightarrow_G \alpha_1 \gamma \alpha_2
\]
gdzie \( \alpha_1, \alpha_2, \gamma \in (N \cup \Sigma)^* \) oraz \( A \in N \)
oraz \( |\gamma| \geq 1\). Dopuszczamy także produkcję
\[
	S \rightarrow \epsilon
\]
ale wówczas \( S \) nie może znajdować się po prawej stronie żadnej produkcji.

Praktycznie wszystko co poznaliśmy z bezkontekstowych znajduje się też tutaj.

\begin{definition}
	\textbf{Język  generowany} przez gramatykę G to oczywiście
	\[
		L(G) = \set{w \in \Sigma^* \mid S \rightarrow_G^* w}
	\]
\end{definition}

\begin{definition}
	Język \(L \subset \Sigma^*\) należy do klasy języków \textbf{CSL} (context-sensitive language) jeśli istnieje taka CSG \(A\), że \(L(A) = L\).
\end{definition}

\begin{definition}
	\textbf{Gramatyka monotoniczna} to gramatyka \( G = (N, \Sigma, P, S) \), w której
	każda produkcja jest postaci
	\[
		\alpha \rightarrow \beta \\
	\]
\end{definition}
gdzie \( \alpha, \beta \in (N \cup \Sigma)^* \) oraz \( |\alpha| \leq |\beta|\).

Klasycznie dopuszczamy także produkcję
\[
	S \rightarrow \eps
\]
gdy \( S\) nie znajduje się po prawej stronie w żadnej produkcji

Każda gramatyka kontekstowa jest monotoniczna z definicji.\\
Ciekawszy jest:\\
\begin{lemma}
	Dla gramatyki monotonicznej istnieje równoważna gramatyka kontekstowa.

\end{lemma}
\begin{proof}
	Zaczynamy od stworzenia dla każdego terminalu \(a\) odpowiadającego nieterminalu \(X_a\), produkcji \(X_a \rightarrow a\) oraz podmianie \(a\) na \(X_a\) we wszystkich produkcjach.
	Następnie, dla każdej produkcji postaci
	\[
		A_1A_2...A_n \rightarrow B_1B_2...B_m
	\]
	tworzymy nieterminal  i dodajemy produkcje:
	\[
		DA_2A_3...A_n \rightarrow DB_2A_3...B_m
	\]
	\[
		DB_2A_3...A_n \rightarrow DB_2B_3A_4...B_m
	\]
	\[
		...
	\]
	\[
		DB_2...B_{n-1}A_n \rightarrow DB_2...B_{n-1}B_n
	\]
	\[
		DB_2...B_n \rightarrow B_1B_2...B_n
	\]

	a jeżeli \( m > n \) to dodatkowo

	\[
		A_1...A_n \rightarrow B_1...B_{n-1}C
	\]
	\[
		C \rightarrow B_nB_{n+1}...B_m
	\]
	gdzie pierwszą część podmieniamy jak poprzednio. Wszystkie te produkcje są kontekstowe. Udowodnienie że nic się nie psuje pozostawiamy czytelnikowi.
\end{proof}
