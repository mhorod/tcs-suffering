\epigraph{W twierdzeniach ramseyowych nie chodzi o jakieś liczby, a o granice Twojej wyobraźni}{\textit{Student TCSu który uwalił egzamin}}
\begin{definition}[Liczby Ramseya]
	Liczbą Ramseya \(R^{(p)}(k; \ell_1, \ell_2, \ldots, \ell_k)\) dla \(p, k, \ell_i \in \natural_1\), nazywamy najmniejszą taką liczbę \(N\),
	że dla każdej funkcji \(c: \binom{[N]}{p} \to [k]\) (zwanej ,,kolorowaniem'') istnieje kolor \(\alpha \in [k]\) oraz zbiór \(S \subseteq [N]\)
	spełniające: \(\card{S} = \ell_\alpha\) oraz \(\binom{S}{p} \subseteq c^{-1}(\alpha)\) --
	dowolny zbiór spełniający drugą z tych własności (dla dowolnego \(\alpha\)) nazywamy ,,monochromatycznym''.
\end{definition}

\begin{theorem}
	Liczby
	\begin{equation*}
		R^{(p)}(k; l_1,l_2,l_3,\dots,l_k)
	\end{equation*}
	są zdefiniowane poprawnie.
\end{theorem}

\begin{proof}
	Prowadzimy indukcję po \(p\), \(k\) i \(\sum_{i \in [k]} \ell_i\). Sprawdzamy przypadki bazowe:
	\begin{enumerate}
		\item Gdy \(p = 1\) poprawność wynika z zasady szufladkowej, \(N = (\sum_{i \in [k]} \ell_i - 1) + 1\);
		\item Gdy \(k = 1\) trywialnie \(R^{(p)}(1; \ell) = \min(p, \ell)\);
		\item Trzeci przypadek bazowy polega na tym, że jeżeli dla jakiegoś \(j\), \(\ell_j = p\) (\(p\) jest to minimalna wartość którą w ogóle może przyjąć jakiekolwiek \(\ell_i\), inaczej to by nie miało sensu).
		      Wtedy zachodzi \(R^{(p)}(k; \ell_1,\ell_2,\ell_3,\ldots,\ell_j,\ldots,\ell_k) = R^{(p)}(k-1; \ell_1,\ell_2,\ell_3,\ldots,\ell_{j-1}, \ell_{j+1}, \ldots,\ell_k)\).
		      Wynika to z prostej obserwacji -- jeżeli istnieje jakikolwiek element \(x \subset \binom{[N]}{p}\) dla którego \(c(x) = j\), to
		      z definicji możemy przyjąć \(\alpha = j, S = x\) aby otrzymać ,,świadka'' dla danego kolorowania --
		      oznacza to, że jedyne kolorowania, które mogą dowodzić fałszywości tw. Ramseya dla danego \(N\) nie
		      przypisują żadnemu podzbiorowi koloru \(j\), a co za tym idzie możemy rozważać kolorowanie mniejszą ilością kolorów.
	\end{enumerate}

	Zostaje przypadek, gdzie \(p, k \geq 2\) i dla każdego \(i\) zachodzi \(\ell_i > p\). Wprowadźmy oznaczenie:
	\begin{equation*}
		L_i = R^{(p)}(k; \ell_1,\ell_2, \ldots, \ell_{i-1}, \ell_i - 1, \ell_{i+1}, \dots \ell_k)
	\end{equation*}

	Z założenia indukcyjnego \(L_i\) jest zdefiniowane poprawnie (bo zredukowaliśmy sumę \(l_i\); formaliści mogą sobie podumać nad indukcją po wielu zmiennych i jak działa).
	Teraz definiujemy sobie pewną \textit{potężną} liczbę służącą jako ograniczenie górne:
	\begin{equation*}
		N = R^{(p-1)}(k; L_1, L_2, L_3, \dots, L_k) + 1
	\end{equation*}
	Ponownie, jest ona poprawnie zdefiniowana z założenia indukcyjnego (bo kolorujemy teraz podzbiory \(p-1\)-elementowe). Po co ta jedynka na końcu? Zaraz się okaże.
	Niech \(c\) będzie dowolnym kolorowaniem zbioru \(\binom{[N]}{p}\) na \(k\) kolorów -- zdefiniujmy sobie teraz kolorowanie \(c'\), które koloruje \(\binom{[N-1]}{p-1}\) również na \(k\) kolorów.
	\(c'\) definiujemy sobie w oparciu o \(c\) w niezwykle fascynujący sposób -- \(c'(S) = c(S \cup \set{N})\). Pomocne może być tutaj narysowanie tej sytuacji.

	Z definicji \(N\) wiemy, że mamy jakieś \(j\) oraz jakiś zbiór \(S \subset [N-1]\) o mocy \(\card{S} = L_j\), który jest monochromatyczny względem kolorowania \(c'\).

	Ale z definicji \(L_j\) wiemy, że istnieje tu podzbiór \(l_1\) lub \(l_2\) lub \dots lub \(l_j - 1\) lub \dots lub \(l_s\) elementów taki, że każdy ich \(k\)-elementowy podzbiór ma ten sam kolor (w kolorowaniu \(c\)). Jeśli własność ta zachodzi dla jakiegokolwiek \(l_i\) gdzie \(i \neq j\), to ta własność nam się przez przypadek właśnie udowodniła (i nawet nie użyliśmy naszego śmiesznego kolorowania).
	Pozostaje nam ciekawszy przypadek, gdy mamy \(l_j - 1\) punktów takich, że ich każdy \(k\)-elementowy podzbiór jest pokolorowany na kolor \(j\).

	Ale w tym przypadku z definicji \(c'\) otrzymujemy fajną własność -- dowolny zbiór \(M \in \binom{S}{p-1}\) ma z definicji ten sam kolor co \(S \cup \{N\}\) w kolorowaniu \(c\). Czyli skoro w \(S\) istnieje podzbiór \(M\) o mocy \(l_j - 1\) taki, że wszystkie elementy \(\binom{M}{p}\) są koloru \(j\),
	to po dodaniu \(N\) do tego podzbioru otrzymujemy zbiór \(l_j\)-elementowy spełniający założenia o kolorowaniu. Sparse'owanie tego co się stało może trochę zająć, ale w sumie to udowodniliśmy twierdzenie Ramseya. Fajnie.
\end{proof}

\begin{proof}[Alternatywny szkic dowodu]
	Można ułatwić odrobinę powyższy dowód nie indukując się po liczbie kolorów \(k\).
	Najpierw dowodzimy przypadek dla \(p = k = 2\) -- dowód opisany jest w sekcji o ograniczeniu górnym liczby \(R(s, t)\) przez Erd\H{o}sa-Szekeresa.
	Następnie rozszerzamy dowód dla wszystkich \(p\) w sposób analogiczny do tego powyżej. Aby rozszerzyć dowód dla wszystkich \(k\) wystarczy zauważyć, że
	\[R^{(p)}(k; \ell_1, \ell_2, \ldots, \ell_k) \leq R^{(p)}(2; \ell_1, R^{(p)}(k-1, \ell_2, \ell_3, \ldots, \ell_k))\]
	Aby to udowodnić, przyjmując prawą stronę nierówności jako \(N\) i mając kolorowanie \(c: \binom{[N]}{p} \to [k]\), definiujemy kolorowanie na dwóch kolorach
	\(c'(x) = \min(c(x), 2)\). Z definicji \(N\) musi istnieć poprawne kolorowanie \(\ell_1\) elementów na kolor \(1\), które dowodzi poprawności \(N\),
	lub kolorowanie zbioru o mocy \(R^{(p)}(k-1; \ell_2, \ell_3, \ldots, \ell_k)\) składające się wyłącznie z kolorów innych od \(1\) --
	wtedy kontynuujemy rozumowanie rekurencyjnie na mniejszej ilości kolorów, co dowodzi poprawności \(N\).
	Dowód ten jest na tyle fajny na egzaminie, że pracując tylko na dwóch kolorach tracimy trochę ,,boilerplate'u'' z poprzedniego dowodu,
	a ponadto nie musimy się powtarzać przy dowodzie ograniczenia Erd\H{o}sa-Szekeresa.
\end{proof}
